{
  "schemaVersion": 2,
  "dockerfilePath": "./Dockerfile",
  "buildArguments": {
    "CACHE_BUST": "latest"
  },
  "expose": {
    "api": {
      "containerPort": 4005,
      "httpPort": 80,
      "httpsPort": 443
    }
  },
  "healthcheck": {
    "path": "/api/v1/health",
    "port": 4005,
    "interval": 30,
    "timeout": 10,
    "retries": 3,
    "startPeriod": 30
  },
  "notify": {
    "webhook": "",
    "slack": "",
    "discord": ""
  },
  "customDomain": "",
  "forceSsl": true,
  "appName": "extrahand-notification-service",
  "hasPersistentData": false,
  "description": "ExtraHand Notification Service - Push Notifications, Preferences, and FCM Token Management",
  "instanceCount": 1,
  "tags": ["nodejs", "typescript", "express", "firebase", "mongodb", "api", "extrahand", "notification-service"],
  "envVars": {
    "NODE_ENV": "production",
    "PORT": "4005",
    "LOG_LEVEL": "info",
    "RATE_LIMIT_WINDOW_MS": "900000",
    "RATE_LIMIT_MAX_REQUESTS": "1000",
    "CORS_ORIGIN": "https://extrahand.in,https://www.extrahand.in,http://localhost:3000,http://localhost:4000,http://localhost:4005",
    "MONGODB_URI": "YOUR_MONGODB_URI_HERE",
    "MONGODB_DB": "extrahand",
    "FIREBASE_PROJECT_ID": "extrahand-app",
    "FIREBASE_CLIENT_EMAIL": "YOUR_FIREBASE_CLIENT_EMAIL",
    "FIREBASE_PRIVATE_KEY": "YOUR_FIREBASE_PRIVATE_KEY",
    "FIREBASE_SERVICE_ACCOUNT_PATH": "",
    "SERVICE_AUTH_TOKEN": "YOUR_SERVICE_AUTH_TOKEN_HERE"
  },
  "volumes": [
    {
      "name": "app-logs",
      "path": "/app/logs"
    }
  ],
  "restart": {
    "policy": "unless-stopped",
    "maximumRetryCount": 10
  },
  "resources": {
    "memory": "512Mi",
    "cpu": "0.5"
  },
  "networking": {
    "publishAllPorts": false,
    "enableTcpProxy": false
  }
}
